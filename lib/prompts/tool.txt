<tool name="context_pruning">
  <purpose>Remove tool outputs that are no longer relevant so the conversation stays clear and the context window remains lean.</purpose>
  <prerequisite>Before pruning, narrate findings in your next message; do not leave tool results (read, bash, grep, webfetch, etc.) unexplained. Narration converts volatile outputs into durable context.</prerequisite>
  <workflow>
    <step order="1">Call tools to investigate or explore.</step>
    <step order="2">Narrate succinctly what you did, what you found, and what you concluded.</step>
    <step order="3">Then call context_pruning with a brief reason (e.g., "task X done; cleaning history").</step>
  </workflow>
  <use_when>
    <case>After completing a discrete task or before switching tasks</case>
    <case>When prior tool outputs are cluttering the thread</case>
  </use_when>
  <avoid_when>
    <case>While debugging an active error</case>
    <case>When recent tool outputs (<3 calls ago) are still referenced</case>
    <case>Before capturing key findings for the user</case>
  </avoid_when>
  <examples>
    <example>Finished reading docs, made no edits → prune those reads</example>
    <example>Resolved a failing test and confirmed the fix → prune earlier error logs</example>
    <example>Completed a refactor and summarized the changes → prune intermediate directory listings/reads</example>
  </examples>
</tool>
